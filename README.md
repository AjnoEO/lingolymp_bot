# Бот-модератор устных олимпиад
* real_bot.py - собственно бот. Здесь прописаны принимаемые ботом команды
* Olymper.py - здесь прописан класс, через который реализованы повторяющиеся процессы, которые иногда необходимо выполныть без запроса от пользователя
* create_db.py - создание базы данных, которая потом будет заполняться данными участников (в будущем будет частью бота-регистратора)
* olymp.db - пример базы данных, на которой осуществлялся тестинг бота
* moderators.py - примаер словаря с администраторами олимпиады, на котором осуществлялся тестинг бота
* Bot_moderator.pdf - презентация для защиты проекта с чуть более подробным описанием функций

## Задействованные инструменты
* telegram bot API – реализация бота
* flask, pythonanywhere – работа бота на сервере
* SQLite – считывание базы данных участников
* классы – воспроизведение повторяющихся процессов и простое их взаимодействие
* prettytable – читабельная демонстрация результатов и прочего
* datetime – настройка времени, записываемого для списка ожидания

## Бот различает три типа участников:
* администраторы
* проверяющие
* сдающие

### Администраторы могут:
* начинать/останавливать олимпиаду
* писать сообщения (всем/только проверяющим/только сдающим)
* смотреть состояние на данный момент (занятость проверяющих/результаты/список ожидания)

### Проверяющие могут:
* выставлять статус готовности принять задачу
* оценивать ответы сдающих

### Сдающие могут:
* просматривать доступные для сдачи задачки
* отправлять запрос на сдачу

## Работа бота:
1. Получает запрос сдать задачу N от сдающего
2. В словаре проверяющих ищет свободного, который бы мог принят задачу N
   1. Если такового не находится, то участник отправляется в список ожидания
   2. Иначе: сдающему присылается ссылка на зум проверяющего, а у проверяющего появляется интерфейс оценивания
4. После оценивания проверяющему предлагается продолжить принимать задачи, а сдающему - продолжить их сдавать

### Порядок работы со списком ожидания:
После каждого освобождения проверяющего и перед каждым запросом сдающих бот "разбирает" список ожидания, то есть, проверяет, не нашлось ли для кого подходящего принимающего.

## Работа с базой данных
### Таблица проверяющих -> словарь
![image](https://user-images.githubusercontent.com/71774188/160348489-52b71590-d6e5-4582-a607-5cdd5b5a0eea.png)
### Таблица сдающих -> словарь
![image](https://user-images.githubusercontent.com/71774188/160348706-7f76504f-d83e-4164-9f60-73fb576fd03d.png)

## Специфика УОЛа
* на каждое задание даётся три попытки, каждая попытка - минус балл
* всего 12 заданий, 4 блока по 3 задания, идущие в порядке возрастания сложности. Средняя школа решает первые три блока (задачи 1-9), старшая - последние три (задачи 4-12)
* задания оцениваются как решено/не решено
